// ==UserScript==
// @name Metalflirt autocaptcha
// @include http://*metalflirt.de/*
// ==/UserScript==

var ready = (function(){    

    var readyList,
        DOMContentLoaded,
        class2type = {};
        class2type["[object Boolean]"] = "boolean";
        class2type["[object Number]"] = "number";
        class2type["[object String]"] = "string";
        class2type["[object Function]"] = "function";
        class2type["[object Array]"] = "array";
        class2type["[object Date]"] = "date";
        class2type["[object RegExp]"] = "regexp";
        class2type["[object Object]"] = "object";

    var ReadyObj = {
        // Is the DOM ready to be used? Set to true once it occurs.
        isReady: false,
        // A counter to track how many items to wait for before
        // the ready event fires. See #6781
        readyWait: 1,
        // Hold (or release) the ready event
        holdReady: function( hold ) {
            if ( hold ) {
                ReadyObj.readyWait++;
            } else {
                ReadyObj.ready( true );
            }
        },
        // Handle when the DOM is ready
        ready: function( wait ) {
            // Either a released hold or an DOMready/load event and not yet ready
            if ( (wait === true && !--ReadyObj.readyWait) || (wait !== true && !ReadyObj.isReady) ) {
                // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
                if ( !document.body ) {
                    return setTimeout( ReadyObj.ready, 1 );
                }

                // Remember that the DOM is ready
                ReadyObj.isReady = true;
                // If a normal DOM Ready event fired, decrement, and wait if need be
                if ( wait !== true && --ReadyObj.readyWait > 0 ) {
                    return;
                }
                // If there are functions bound, to execute
                readyList.resolveWith( document, [ ReadyObj ] );

                // Trigger any bound ready events
                //if ( ReadyObj.fn.trigger ) {
                //  ReadyObj( document ).trigger( "ready" ).unbind( "ready" );
                //}
            }
        },
        bindReady: function() {
            if ( readyList ) {
                return;
            }
            readyList = ReadyObj._Deferred();

            // Catch cases where $(document).ready() is called after the
            // browser event has already occurred.
            if ( document.readyState === "complete" ) {
                // Handle it asynchronously to allow scripts the opportunity to delay ready
                return setTimeout( ReadyObj.ready, 1 );
            }

            // Mozilla, Opera and webkit nightlies currently support this event
            if ( document.addEventListener ) {
                // Use the handy event callback
                document.addEventListener( "DOMContentLoaded", DOMContentLoaded, false );
                // A fallback to window.onload, that will always work
                window.addEventListener( "load", ReadyObj.ready, false );

            // If IE event model is used
            } else if ( document.attachEvent ) {
                // ensure firing before onload,
                // maybe late but safe also for iframes
                document.attachEvent( "onreadystatechange", DOMContentLoaded );

                // A fallback to window.onload, that will always work
                window.attachEvent( "onload", ReadyObj.ready );

                // If IE and not a frame
                // continually check to see if the document is ready
                var toplevel = false;

                try {
                    toplevel = window.frameElement == null;
                } catch(e) {}

                if ( document.documentElement.doScroll && toplevel ) {
                    doScrollCheck();
                }
            }
        },
        _Deferred: function() {
            var // callbacks list
                callbacks = [],
                // stored [ context , args ]
                fired,
                // to avoid firing when already doing so
                firing,
                // flag to know if the deferred has been cancelled
                cancelled,
                // the deferred itself
                deferred  = {

                    // done( f1, f2, ...)
                    done: function() {
                        if ( !cancelled ) {
                            var args = arguments,
                                i,
                                length,
                                elem,
                                type,
                                _fired;
                            if ( fired ) {
                                _fired = fired;
                                fired = 0;
                            }
                            for ( i = 0, length = args.length; i < length; i++ ) {
                                elem = args[ i ];
                                type = ReadyObj.type( elem );
                                if ( type === "array" ) {
                                    deferred.done.apply( deferred, elem );
                                } else if ( type === "function" ) {
                                    callbacks.push( elem );
                                }
                            }
                            if ( _fired ) {
                                deferred.resolveWith( _fired[ 0 ], _fired[ 1 ] );
                            }
                        }
                        return this;
                    },

                    // resolve with given context and args
                    resolveWith: function( context, args ) {
                        if ( !cancelled && !fired && !firing ) {
                            // make sure args are available (#8421)
                            args = args || [];
                            firing = 1;
                            try {
                                while( callbacks[ 0 ] ) {
                                    callbacks.shift().apply( context, args );//shifts a callback, and applies it to document
                                }
                            }
                            finally {
                                fired = [ context, args ];
                                firing = 0;
                            }
                        }
                        return this;
                    },

                    // resolve with this as context and given arguments
                    resolve: function() {
                        deferred.resolveWith( this, arguments );
                        return this;
                    },

                    // Has this deferred been resolved?
                    isResolved: function() {
                        return !!( firing || fired );
                    },

                    // Cancel
                    cancel: function() {
                        cancelled = 1;
                        callbacks = [];
                        return this;
                    }
                };

            return deferred;
        },
        type: function( obj ) {
            return obj == null ?
                String( obj ) :
                class2type[ Object.prototype.toString.call(obj) ] || "object";
        }
    }
    // The DOM ready check for Internet Explorer
    function doScrollCheck() {
        if ( ReadyObj.isReady ) {
            return;
        }

        try {
            // If IE is used, use the trick by Diego Perini
            // http://javascript.nwbox.com/IEContentLoaded/
            document.documentElement.doScroll("left");
        } catch(e) {
            setTimeout( doScrollCheck, 1 );
            return;
        }

        // and execute any waiting functions
        ReadyObj.ready();
    }
    // Cleanup functions for the document ready method
    if ( document.addEventListener ) {
        DOMContentLoaded = function() {
            document.removeEventListener( "DOMContentLoaded", DOMContentLoaded, false );
            ReadyObj.ready();
        };

    } else if ( document.attachEvent ) {
        DOMContentLoaded = function() {
            // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
            if ( document.readyState === "complete" ) {
                document.detachEvent( "onreadystatechange", DOMContentLoaded );
                ReadyObj.ready();
            }
        };
    }
    function ready( fn ) {
        // Attach the listeners
        ReadyObj.bindReady();

        var type = ReadyObj.type( fn );

        // Add the callback
        readyList.done( fn );//readyList is result of _Deferred()
    }
    return ready;
})();


function eventListener()
{
	for(var i = 0; i < document.images.length; i++)
	{
		if (document.images[i].src && document.images[i].src.match("/captcha$"))
		{
		 	img = document.images[i];
			var canvas = document.createElement('canvas');
			//document.body.appendChild(canvas);
			canvas.width = img.width;
			canvas.height = img.height;
			var ctx = canvas.getContext('2d');
			ctx.drawImage(img,0,0);
			var image = ctx.getImageData(0, 0, canvas.width, canvas.height);
			ImageFunctions.toBlackAndWhite(image, 30);
			ctx.putImageData(image, 0, 0);
			var blocks = copyAndPadding(image, canvas);
			
			var result = "";
			
			for(var c=0; c < blocks.length - 2; c++)
			{
				var imdata = blocks[c].canvas.getContext('2d').getImageData(0, 0, blocks[c].canvas.width, blocks[c].canvas.height);	
				var currentChar = img.src.charAt(x);
				var obj = [];
				for (var x = 0; x < imdata.width; x++){
					for (var y = 0; y < imdata.height; y++){
						var foo = x*4+y*4*imdata.width;
						obj.push(imdata.data[foo] / 255);
					}
				}
				var neuralResult = anonymous(obj);
				
				var bestChar = "";
				var bestPercentage = 0;
				for(key in neuralResult)
				{
					var compareVal = neuralResult[key]
					if(compareVal > bestPercentage)
					{
						bestChar = key;
						bestPercentage = neuralResult[key];
					}	
				}
				result += bestChar;
			}
			var fnd = find("captcha_text");
			if(fnd)
			{
				fnd.value = eval(result);
				fnd.parentNode.style.visibility = 'hidden';
				fnd.parentNode.previousSibling.previousSibling.style.visibility = 'hidden';
			}
			else
			{
				console.log("unable to find place for entering captcha: " + result);
			}
			break;
		}
	}
}

 function find(name){
    n = document.forms.length
    for (var i=0; i < n; i++){
      k = document.forms[i].elements.length
      for(var j=0; j < k; j++){
        if(document.forms[i].elements[j].name == name){
          return(document.forms[i].elements[j])
        }
      }
    }
  }

if(document.readystate == "complete")
{
	
	eventListener();
}
else
{
	ready(eventListener);
}

function anonymous(inputs) {
var net = {"layers":[{"0":{},"1":{},"2":{},"3":{},"4":{},"5":{},"6":{},"7":{},"8":{},"9":{},"10":{},"11":{},"12":{},"13":{},"14":{},"15":{},"16":{},"17":{},"18":{},"19":{},"20":{},"21":{},"22":{},"23":{},"24":{},"25":{},"26":{},"27":{},"28":{},"29":{},"30":{},"31":{},"32":{},"33":{},"34":{},"35":{},"36":{},"37":{},"38":{},"39":{},"40":{},"41":{},"42":{},"43":{},"44":{},"45":{},"46":{},"47":{}},{"0":{"bias":0.07861068332602601,"weights":{"0":0.19368491430079257,"1":0.3940272010334842,"2":0.23240673969225653,"3":-0.7433267386250021,"4":-0.4483712831058579,"5":-0.17724069544485188,"6":0.136486674326758,"7":-0.03411832991561508,"8":0.16136288523304104,"9":0.26683691629542616,"10":0.09716005066109766,"11":-0.00527102500478476,"12":-0.3675099796104278,"13":-0.1539208255279767,"14":0.38554598411175156,"15":0.2519974210172024,"16":0.024478135431470347,"17":-0.24392891900027805,"18":0.0269205402144198,"19":0.193211812050037,"20":-0.7480387120482268,"21":-0.02250359396448629,"22":-0.012267986723210387,"23":0.1205761550798138,"24":0.2924456201366192,"25":0.08654192223894205,"26":0.20675182093458067,"27":-0.6073400333829164,"28":-0.03161504329538503,"29":0.08419409497643597,"30":0.03427649343972277,"31":0.34348043968303527,"32":0.09272846455410493,"33":0.13198826476135772,"34":0.2182807504586382,"35":0.19808441943463062,"36":0.19982485534343977,"37":0.21350723955252673,"38":0.15393550138392995,"39":0.2030570912776528,"40":0.32393547269854006,"41":-0.10749800237691515,"42":0.34599138680215624,"43":-0.24711113541728866,"44":-0.18923086962009567,"45":0.19613750626736845,"46":0.10754027435028402,"47":0.032397456332658996}},"1":{"bias":0.24409236665337836,"weights":{"0":0.4799898640462894,"1":-0.02034667647827024,"2":-0.28483239656103015,"3":0.22147554905180603,"4":0.8700985420343846,"5":0.4997591852440254,"6":0.004193535899635527,"7":-0.13564203651348367,"8":0.3397965792284748,"9":-0.29586920024074864,"10":-0.15297785866998698,"11":0.26669758916785546,"12":0.12731541633723512,"13":0.27270514453679784,"14":0.2859492161960745,"15":-0.12789333951479165,"16":0.07484233915054822,"17":-0.07673278621205479,"18":-0.3094675947320758,"19":0.19770870828425163,"20":0.2157660896157027,"21":-0.31742861324048255,"22":0.07844821834557161,"23":0.061124436046868805,"24":0.07205910622322577,"25":-0.3972436640774239,"26":-0.16889735781834728,"27":1.1160105429092484,"28":-0.5433928130908078,"29":0.028313991655522307,"30":-0.18692014341050162,"31":-0.31531342131264767,"32":-0.21092252539588158,"33":-0.30093201877892417,"34":-0.05614722126937804,"35":0.39292466046084384,"36":0.14289966787579247,"37":-0.37802599287551714,"38":-0.26889627194923266,"39":-0.3607910634418251,"40":0.04829855860357388,"41":-0.27285032965586,"42":-0.3390839072545951,"43":0.16079546329256336,"44":0.2964297962835949,"45":-0.17162199831527658,"46":-0.3155539084315014,"47":-0.44668053901574106}},"2":{"bias":-0.15002188204059555,"weights":{"0":0.10154052144286684,"1":-0.14718438512537163,"2":0.03952058621548202,"3":-0.5614059586057453,"4":-0.01350627016037806,"5":0.06617233307529047,"6":0.02437071609419324,"7":-0.036012740781757833,"8":-0.31601704904324085,"9":0.17509461809382543,"10":-0.051478454214447585,"11":0.049363056311453914,"12":-0.5748497462105592,"13":0.2681675308803029,"14":-0.27241692520192556,"15":0.1524209469544665,"16":-0.09740536026778183,"17":-0.3525143544196872,"18":0.4977491635276138,"19":0.4254033633070829,"20":-0.9270601304227536,"21":-0.06648755986522276,"22":-0.10498602521301431,"23":0.19109415756417036,"24":-0.023875147291743237,"25":0.21236088664509886,"26":0.37448309951896064,"27":-0.07968281470906825,"28":-0.9098364809684941,"29":-0.03666334257776732,"30":-0.049448755104820566,"31":0.21112544415951465,"32":0.2907085871496747,"33":-0.07330447877710046,"34":-0.3043780370534662,"35":-0.15874856203187426,"36":-0.051472878593513564,"37":0.41549446004825724,"38":0.3621242162716677,"39":0.4137100719641817,"40":0.5322510354009624,"41":-0.3849752415432532,"42":-0.43864982347322956,"43":-0.3399259859732772,"44":-0.09185046495676467,"45":0.3764735300970366,"46":0.3815439479370705,"47":0.44382636137222786}},"3":{"bias":0.28448216599730025,"weights":{"0":-0.06606049023959741,"1":0.06396856866100838,"2":0.020720435220911212,"3":-0.1328594639604863,"4":0.43475092475234683,"5":0.3774925971549873,"6":0.2064342291958074,"7":0.5378889101670823,"8":-0.06297125440775579,"9":-0.19084825355275098,"10":0.11249560236731591,"11":0.08958249199054164,"12":0.442259508891116,"13":0.2479700108031562,"14":-0.053894122938953175,"15":-0.2398018391216522,"16":-0.0505349905575041,"17":-0.1741247443462187,"18":-0.6246570394364814,"19":0.016751118076061968,"20":0.3001161100267577,"21":-0.3218416709015982,"22":-0.47901058183790596,"23":-0.011467085533809993,"24":-0.23876380281246956,"25":-0.45376380484028267,"26":-0.6755734891249365,"27":-0.17122683088209906,"28":0.6393169220485528,"29":-0.5718576860935182,"30":-0.5317059625851391,"31":0.0014197404711086934,"32":0.16074474729235108,"33":0.2200952053821529,"34":0.17992442244703813,"35":0.09585660069220264,"36":-0.047623718688472184,"37":-0.10113358783087437,"38":-0.007317510401073094,"39":0.11316766407947436,"40":0.03284912625258791,"41":0.3733184008679241,"42":0.1866646358045759,"43":0.4819078458664675,"44":-0.015356013506287219,"45":-0.18962462923041257,"46":0.009726250017819368,"47":0.49825464509021034}},"4":{"bias":0.41468835682549765,"weights":{"0":0.4665763471754606,"1":0.09791192988135246,"2":0.22837569581739317,"3":0.7968763846537555,"4":0.2839128169147147,"5":-0.02058157238323654,"6":0.19299341317467877,"7":-0.2595357622151018,"8":0.2501365651239224,"9":0.05171461528232064,"10":0.2946263394557888,"11":0.29206006494543285,"12":0.35820845830100273,"13":-0.2551720476571986,"14":0.1425809941117213,"15":-0.14759836882000135,"16":0.023429871111909806,"17":-0.022181425516642445,"18":-0.21812051850579053,"19":-0.10426426009567849,"20":0.3389833710790123,"21":-0.685634160610008,"22":-0.15790922454564876,"23":0.12267849188650691,"24":0.11574392499754897,"25":-0.35307102454779155,"26":-0.27477848025890406,"27":0.24343118696976618,"28":0.3604198365927926,"29":-0.4211781809072989,"30":-0.31004095607731613,"31":-0.09222648149291306,"32":-0.230569541287684,"33":-0.16185815215887753,"34":-0.10620381380836612,"35":0.23552541410687095,"36":0.20794072946382425,"37":0.07289623747535048,"38":0.053490720586404014,"39":-0.20920433641005085,"40":0.235819129408431,"41":-0.14404836569758353,"42":-0.32806748027419974,"43":0.6597397090935624,"44":0.44771656808635746,"45":0.1442794030434638,"46":0.008876094305440507,"47":-0.266749545578294}},"5":{"bias":-0.1327890810235109,"weights":{"0":-0.23712070021570497,"1":0.12971439153754533,"2":0.13710629768658308,"3":-0.32529466422875786,"4":-0.5198990002895272,"5":-0.13479176135407814,"6":-0.05056403477809036,"7":0.06897338242061542,"8":0.08299449611925268,"9":0.14080866410267928,"10":0.2258317551574101,"11":-0.48230419282624126,"12":-0.0018011567801705262,"13":-0.2541455695451404,"14":0.17170292925559605,"15":0.41165378084880144,"16":0.5255129420245878,"17":0.03816896487863684,"18":-0.4078247491236166,"19":0.0435319010748562,"20":0.05303563713478011,"21":-0.036182039042840036,"22":0.1039883260107152,"23":0.5080509232404525,"24":0.5826120921458008,"25":0.09689194162753043,"26":-0.3406905221937784,"27":0.06904538587995458,"28":0.5350478894582776,"29":0.04491727921228818,"30":0.14046452377827767,"31":0.3932425539275741,"32":-0.0545388463790402,"33":0.35564430983783324,"34":0.25775974217075104,"35":-0.33639467019591646,"36":-0.4865658320826612,"37":0.17005329368827637,"38":-0.11517548221903033,"39":0.024895202828274423,"40":-0.38064557117661574,"41":0.7202310309191168,"42":0.36156454967902923,"43":-0.47733738054309727,"44":-0.4162978949286932,"45":-0.09096914395498205,"46":-0.17699995605083413,"47":0.05364515819850212}},"6":{"bias":0.21871982164911083,"weights":{"0":0.06743206211524591,"1":0.10519586571607514,"2":-0.4724624880563829,"3":0.19232407877254876,"4":0.16716406113732157,"5":-0.0199733034282148,"6":0.09431461014900111,"7":-0.13478436520013964,"8":-0.3213930524235385,"9":-0.17012073918879722,"10":0.06343539229669179,"11":0.44035925995503283,"12":0.24424679062065152,"13":-0.09760844974244438,"14":-0.24931588296795132,"15":-0.6123853066547046,"16":-0.3706619457883957,"17":0.07596136026405904,"18":0.22563804401674273,"19":0.600377972043215,"20":-0.4112244515516742,"21":-0.01451596185270792,"22":-0.1430384928714137,"23":-0.4353683940677163,"24":-0.4185946150293765,"25":0.2654050788977392,"26":0.17698452741365525,"27":-0.43414408989926817,"28":0.012674550920153441,"29":0.08294538162006639,"30":0.023993128001179316,"31":-0.22127177267969345,"32":-0.09469009697354226,"33":-0.4181479754586877,"34":-0.23732984171318258,"35":0.3844873043969673,"36":0.4164607282629783,"37":0.2440052024389189,"38":0.12934387236112144,"39":-0.12555398308275043,"40":0.36509666430090937,"41":-0.4779503788528207,"42":-0.41752558322729477,"43":0.3762076550441276,"44":0.35561335319597914,"45":-0.01030862356326191,"46":-0.03354890082752943,"47":-0.007248138026903727}},"7":{"bias":0.09391973762216334,"weights":{"0":0.24126991916137042,"1":-0.09718653380795554,"2":-0.4857226162908058,"3":0.4187748323442808,"4":-0.12282024851787626,"5":-0.1284985056800717,"6":-0.3410659251540835,"7":-0.33326867218624845,"8":0.007163193591252317,"9":-0.28489162143725755,"10":0.06012298734022685,"11":0.21696160719815996,"12":0.08527060291090607,"13":-0.22019957060691045,"14":0.057296222776487764,"15":-0.156276471272884,"16":-0.061701826204386974,"17":-0.1827303805368173,"18":-0.05893850658970173,"19":-0.5770712768562991,"20":0.5069216290825322,"21":0.12954952439924497,"22":0.22051209112043657,"23":-0.33283278831544083,"24":-0.17228216343822922,"25":-0.29350733644093013,"26":-0.020776347106261254,"27":-0.10757355297163411,"28":0.3021345315962457,"29":0.24251935681706588,"30":-0.01594686768745721,"31":-0.5810747372399608,"32":-0.074180999619245,"33":-0.012411957006262306,"34":0.179738837798221,"35":0.42958403505866,"36":-0.1139586182929225,"37":-0.008113017167480942,"38":0.08425614652079126,"39":-0.4572761184852616,"40":0.4894807335799689,"41":0.029945688550068347,"42":-0.2931392451826747,"43":0.5399751738627645,"44":0.3032161416028846,"45":-0.07863831049907404,"46":-0.10514018316897951,"47":-0.1730400355020241}},"8":{"bias":-0.09688214855307341,"weights":{"0":-0.049941933711571164,"1":0.2514669280941788,"2":-0.1034900639394713,"3":-0.08937119356158194,"4":0.2361482211703112,"5":-0.09696159067218096,"6":0.24404263417005576,"7":0.038665891691833446,"8":0.15194283793474936,"9":-0.05117429548447502,"10":0.2772725558864792,"11":0.10427949317439629,"12":0.005003685819718374,"13":0.2827865487798121,"14":0.3180324642432813,"15":0.11134008152862977,"16":-0.07255030011305609,"17":-0.5654444399344924,"18":-0.30149950111990836,"19":-0.10968133000748746,"20":-0.01001968753173022,"21":-0.47159608982016515,"22":-0.696624690951451,"23":-0.1235822950258297,"24":-0.05352823424631775,"25":-0.5697818503629716,"26":-0.43342483878816207,"27":-0.010579330901757528,"28":-0.2682465241876197,"29":-0.43653921810031093,"30":-0.6742385004702203,"31":0.21635934899056877,"32":0.2232531985853621,"33":0.012088497765014762,"34":0.3514231903614932,"35":0.09640034234424642,"36":0.2985343781510942,"37":0.2684146069426255,"38":-0.012631360118446877,"39":0.0851936901357696,"40":-0.07705778254425447,"41":0.05979381374980034,"42":0.3571649592287082,"43":0.33851669551317853,"44":0.02689826088666125,"45":-0.041511014153419366,"46":0.19306153799110815,"47":0.12483560022605773}},"9":{"bias":-0.2512053540220617,"weights":{"0":0.2856131297954875,"1":0.2675093102899628,"2":0.09044812517027505,"3":0.6289517381209172,"4":0.03050715061834116,"5":0.00005026962851071201,"6":0.29393807581414144,"7":-0.009196881371185269,"8":0.14376316579363338,"9":0.0798169817429366,"10":0.04932494005430728,"11":-0.14594916092891436,"12":-0.03983235753305749,"13":0.2954373123860362,"14":0.4072158409871814,"15":0.28337867824209617,"16":0.022847089039514285,"17":-0.04842707255341873,"18":0.13236627316039046,"19":-1.2638869895780724,"20":0.41673078621943116,"21":-0.02453510775069162,"22":-0.021750335506112578,"23":0.14524177886394699,"24":-0.05349302295746424,"25":0.017741396818087826,"26":0.009979488025292329,"27":-0.01634729503513655,"28":-0.40816026927664817,"29":-0.15075314773683876,"30":-0.15614763387896916,"31":0.27173096757646126,"32":0.36064190907172927,"33":-0.12296845665391412,"34":0.5742971373761836,"35":0.061399281308885244,"36":-0.09834212697171785,"37":0.036554378443906146,"38":0.12954601988712897,"39":-0.06731101855907115,"40":0.15064266076237395,"41":-0.03951199105199296,"42":0.1897551874715637,"43":0.8632851855972432,"44":-0.11135316013086824,"45":0.23941005802298487,"46":0.24877496062363053,"47":0.06440333604406717}},"10":{"bias":0.31196204466385946,"weights":{"0":0.33917185978066433,"1":-0.38696351460289896,"2":-0.48106623390313746,"3":-0.5717106032205288,"4":0.44678045116264575,"5":0.7716710036071299,"6":-0.26175147731897125,"7":0.4714626650783943,"8":-0.126650621316176,"9":-0.3284547280251958,"10":-0.05004364082211071,"11":-0.34716728309827366,"12":-0.03443818854473385,"13":0.658978227767837,"14":-0.016490638482164855,"15":-0.23685857236645597,"16":0.006619951107730828,"17":-0.27648668569370455,"18":-0.8028075884954264,"19":-0.1946988426603541,"20":0.7165269755625588,"21":0.2408447385425927,"22":-0.08429900543770762,"23":0.046192571406444366,"24":-0.19535679195336508,"25":-0.4222326953928605,"26":-0.4826985409890485,"27":0.6277689484014657,"28":-0.06390170550600956,"29":-0.21563320267495162,"30":-0.5470230614845386,"31":-0.5124850256100261,"32":0.3073313027267733,"33":0.5371798388200724,"34":0.41894847310559785,"35":-0.02601062806320407,"36":0.009693449671964375,"37":-0.4310126423881875,"38":-0.2193065643356671,"39":-0.2383581798209725,"40":0.28103451987287925,"41":0.5958196898463096,"42":0.7007790384949845,"43":0.35304919046696565,"44":-0.19134333654033409,"45":-0.3706851663114057,"46":-0.25964637604072,"47":0.2529813830313094}},"11":{"bias":0.13207093809986137,"weights":{"0":0.55873182122847,"1":-0.1299021311084446,"2":-0.34392274758862446,"3":0.19158739520874338,"4":-0.34424583740034037,"5":-0.3096407785914839,"6":-0.0005746689605229856,"7":-0.27600194101061126,"8":0.09925423540455652,"9":-0.36770238913821085,"10":-0.10409077536906088,"11":0.033669705586144176,"12":-0.14694768602817296,"13":-0.427461641687472,"14":0.37553087963072024,"15":-0.0073500802195975365,"16":0.027638155742048264,"17":-0.457205090775824,"18":0.21076229662118828,"19":-0.5838542903073936,"20":0.016173503387630607,"21":0.2222465714531099,"22":-0.005882030027767289,"23":-0.018762039245606366,"24":0.08778298111489317,"25":0.0187484204721323,"26":0.564028336261726,"27":-0.8082008818131171,"28":0.0767040720709954,"29":0.37202173718786574,"30":-0.2793618624207747,"31":-0.13374131126554628,"32":0.4131506771497422,"33":0.26135411761701244,"34":0.4533639029691627,"35":0.3651193521027941,"36":-0.26113797114820286,"37":-0.04381241187950757,"38":0.02502792175361738,"39":-0.022129719607376735,"40":0.718800665493385,"41":0.31029444202780887,"42":-0.2509878858557086,"43":0.021852357953561028,"44":0.0428153767153707,"45":0.24219159423807532,"46":0.26231609280655,"47":-0.20699661407776895}},"12":{"bias":-0.013364355976857418,"weights":{"0":0.27856758375810176,"1":-0.338396287141151,"2":-0.6595304525703417,"3":-0.21383714881986268,"4":0.2673124695785279,"5":0.19076296009488114,"6":0.012987888334536235,"7":-0.2874104714436405,"8":-0.04799606663406172,"9":-0.35481666060841793,"10":-0.29897148038159727,"11":-0.01250491894599153,"12":0.2731674173316409,"13":-0.0516920712756173,"14":0.04800852096408347,"15":-0.18329088565892399,"16":0.02197845215910149,"17":-0.08957701758635239,"18":0.09067318383494996,"19":-0.12594291617288048,"20":-0.2539400111436805,"21":0.6499749988639815,"22":0.4357083699718448,"23":-0.24333954694679766,"24":-0.3263878314662629,"25":0.40404743030580037,"26":0.46463864730308807,"27":0.17185777117629192,"28":-0.27382054772989994,"29":0.3735341551307104,"30":0.10782594582843624,"31":-0.5998901100338176,"32":0.26313617305665343,"33":0.3820638784379403,"34":0.17426413800637747,"35":0.323803157040389,"36":-0.10085822399684882,"37":0.17237117819737913,"38":-0.05747090933594513,"39":-0.18526552337832738,"40":0.3002995286531852,"41":0.3070715815000874,"42":0.3107321548682715,"43":-0.24652340393634126,"44":-0.18382940523143987,"45":-0.009435958617661727,"46":0.07179669261228604,"47":-0.3217986809964108}},"13":{"bias":-0.06750761631063693,"weights":{"0":0.06081279822417032,"1":0.11491588042042036,"2":-0.20554899821641653,"3":0.2650567203139106,"4":-0.034638647295375385,"5":0.01464915121765613,"6":0.17989927842206085,"7":-0.5714352514315131,"8":-0.0032670718381628814,"9":-0.39687890933462955,"10":-0.22469921037646387,"11":0.5734724750793877,"12":0.17618520535109014,"13":-0.28822892277307777,"14":0.16053896362460415,"15":-0.2539846080727242,"16":-0.3758796818926308,"17":-0.15160702744147866,"18":-0.26167033553132935,"19":-0.07102780266343885,"20":-0.2669900977455087,"21":-0.29040081892183395,"22":-0.09788681715733176,"23":-0.07220332561054507,"24":-0.21865483162918264,"25":-0.033881830200526965,"26":0.1647583179325448,"27":0.17005706254110053,"28":-0.20804201912769352,"29":-0.14444705032166766,"30":-0.3270651471579736,"31":-0.4995453815125823,"32":0.31556327831149955,"33":-0.06461808603094883,"34":0.25881104317540554,"35":0.10408246737465623,"36":0.21301746004179162,"37":0.4059355425479497,"38":0.40825324569071175,"39":-0.13072463907286191,"40":0.24687368963288545,"41":0.15136146912513318,"42":0.04026662501922657,"43":0.014730990549596312,"44":0.5629114448144441,"45":0.21152119066739827,"46":0.07053154993975957,"47":-0.5051975092419532}},"14":{"bias":-0.04659176445017318,"weights":{"0":-0.08999767741950797,"1":0.019505439330764315,"2":0.00022372487380264297,"3":0.16172390284755314,"4":0.16022821850101465,"5":-0.10066330207368421,"6":-0.16250145593198428,"7":0.20969615182821635,"8":-0.16539730254937926,"9":-0.08030442983435351,"10":-0.1387447335527965,"11":-0.22467612986905597,"12":0.03609048894605709,"13":-0.09513240473722873,"14":-0.05314859591801668,"15":-0.18660007640216972,"16":0.13490630444641685,"17":0.8519312820094891,"18":0.7263159925015298,"19":0.2017281526045694,"20":0.16244648499302577,"21":0.44590170854659866,"22":0.7697870451384611,"23":0.0678620651414571,"24":-0.15090279085059208,"25":0.6574270687942613,"26":0.6999612329154956,"27":0.2714304356311684,"28":0.2127415375125362,"29":0.6427270880575654,"30":0.678213942020691,"31":-0.11976696966739236,"32":-0.010219494623556133,"33":-0.341734214306151,"34":-0.26628152395282884,"35":-0.26600169327989687,"36":0.07104490501763408,"37":0.06870508374378946,"38":-0.009469374607197363,"39":-0.10302240814922789,"40":-0.3459209316238693,"41":-0.09856949829709988,"42":-0.1809458325546794,"43":-0.04279508840313816,"44":-0.15367474779008108,"45":-0.31008851180120484,"46":-0.12989482494338536,"47":0.18363334618174046}},"15":{"bias":-0.024978526897208423,"weights":{"0":-0.7935985758610018,"1":0.29467436700005956,"2":-0.15500693815877464,"3":0.2727267168989811,"4":0.15910792972827326,"5":0.19669637710125565,"6":0.013017334983395192,"7":0.11841311940997032,"8":0.02739039317121984,"9":0.05693479123213552,"10":0.011185261337812157,"11":0.17754807046725177,"12":0.6204977121056521,"13":0.15710403174040116,"14":-0.2776664213987614,"15":-0.3155930143765118,"16":-0.09782082503502712,"17":-0.12704064670692697,"18":-0.4998745280562127,"19":0.06730840383142778,"20":0.29485392566005314,"21":-0.20649827549652694,"22":-0.45862829908931757,"23":-0.39651430742656213,"24":-0.25696496143778175,"25":-0.16650645842342246,"26":-0.5305263638600372,"27":0.31881373909147176,"28":0.08410342791778762,"29":-0.302949675787513,"30":-0.23415322435762237,"31":-0.14215719989812686,"32":0.10780228950607786,"33":0.2236615401846388,"34":-0.1793039046776591,"35":0.26752544820498425,"36":0.47458986426422783,"37":-0.0012631893392826231,"38":0.14959947389995912,"39":-0.17686500872621147,"40":-0.6709991626691993,"41":0.36234697831469015,"42":0.7540318868839254,"43":0.26310556628721515,"44":0.2870698747515552,"45":-0.11807606837266899,"46":0.14178832748418876,"47":0.03470759714271914}},"16":{"bias":-0.11314644714580749,"weights":{"0":-0.3951184129780092,"1":0.0524286631850142,"2":0.3812020180924379,"3":-0.6100142974368753,"4":0.7382887268780883,"5":1.1655841803401454,"6":-0.07047117311678922,"7":-0.13652425279908967,"8":-0.10223359697391148,"9":0.2850926625353364,"10":0.061156453264415794,"11":-0.15807472543283652,"12":-0.043536313266972396,"13":1.1679017243198877,"14":-0.3950734716736228,"15":-0.06169137046420705,"16":-0.009850365526320189,"17":0.07020503038368266,"18":-0.07668046908917547,"19":0.09253443142029406,"20":-0.4150672980829451,"21":0.08171505451734115,"22":-0.3176570157975475,"23":-0.13139323456892582,"24":-0.044968788928629495,"25":0.3630863916247223,"26":-0.2422997840419362,"27":0.4649128312965454,"28":-1.0005805024776875,"29":0.06251935286978222,"30":-0.2940425367298068,"31":0.42086691956940014,"32":-0.02418923774202616,"33":0.3278319083185892,"34":0.047438219416026044,"35":-0.40709227048005225,"36":-0.17099133200435254,"37":0.3670959795570983,"38":0.35656152076339853,"39":0.3582503136380269,"40":-0.03364408240880601,"41":-0.013338251874408048,"42":0.26044087393933746,"43":-0.22171579437704403,"44":0.10742080815643713,"45":0.23559140653601318,"46":0.4250101531601561,"47":0.17004009672796822}},"17":{"bias":0.09864781082180979,"weights":{"0":0.4231085078646987,"1":0.10562760703049245,"2":0.05055513289941423,"3":-0.9669062679084931,"4":-0.3383221036939712,"5":0.09184040553694263,"6":-0.05196511462547182,"7":0.25960942807201826,"8":-0.011929920824524659,"9":-0.18610937684127157,"10":0.09776276694862737,"11":-0.19693256124743588,"12":-0.5811321332114452,"13":0.12185429516402416,"14":-0.02035020677959604,"15":0.20804055953675257,"16":0.23441150464394436,"17":-0.3392398607919059,"18":-0.06735499290700883,"19":0.3582453359399121,"20":-0.786789371020334,"21":0.2790512030239949,"22":-0.02262757121043608,"23":-0.03765709571263495,"24":0.09732178604507132,"25":-0.0398726706254869,"26":0.2615720404093569,"27":-0.3403822253222217,"28":-0.2775706966555995,"29":0.15236972815437355,"30":-0.3056148991921979,"31":-0.0027224108139517014,"32":0.30013889909604957,"33":0.03633101817505568,"34":0.37309877387576457,"35":-0.13512646454318752,"36":-0.036628193990603096,"37":-0.2856872969686948,"38":-0.3370651294857226,"39":0.20686447179130768,"40":0.5094594174992361,"41":0.015833750388642282,"42":0.04053335611878114,"43":-0.5766109762785527,"44":-0.31078327299916525,"45":-0.12553869387209024,"46":-0.036216348633911016,"47":0.3438823791599757}},"18":{"bias":0.3796754148901021,"weights":{"0":-0.003455464018677601,"1":0.09666748600602812,"2":-0.411597884253544,"3":0.5137078958269724,"4":-0.43384898053918103,"5":-0.7772470570993708,"6":-0.14162499295025335,"7":-0.11687640064536704,"8":0.26878926758192206,"9":-0.33132448884193505,"10":-0.1653620583585709,"11":0.09203771538247196,"12":0.5369314767427102,"13":-0.5828169085540748,"14":0.18558380980513672,"15":-0.11538085004834307,"16":-0.22223965766427914,"17":-0.034904112279062455,"18":-0.41904289498829334,"19":0.2632675301389831,"20":0.519395138917855,"21":0.24470642763858141,"22":0.30495825420674666,"23":-0.013275814136097687,"24":-0.17969959330333266,"25":-0.19443625070329054,"26":-0.22491941610308358,"27":-0.3036471176237635,"28":0.955504673884398,"29":0.17135523698996485,"30":0.21963604336267273,"31":-0.39834266014863456,"32":0.10066000311336036,"33":0.5154744722544056,"34":-0.1351618507959002,"35":0.22276912818720088,"36":0.02998784811346413,"37":-0.0055762306715010914,"38":-0.21815074299672943,"39":-0.7207373622648959,"40":0.051336929447545636,"41":0.5520139298065402,"42":-0.11347138927424201,"43":-0.0332960343414646,"44":0.136614570665702,"45":-0.1682201618256628,"46":-0.06609244411090574,"47":-0.4648671143779198}},"19":{"bias":0.08316617360887288,"weights":{"0":-0.282748061064871,"1":0.14419687059078992,"2":0.3353138542485716,"3":0.11738623826354189,"4":0.16514975991996939,"5":-0.2750714532354013,"6":0.07374749895487598,"7":0.1892626365353308,"8":-0.2668799454656017,"9":0.2984973256046808,"10":0.08574375888582873,"11":0.04054461440659452,"12":0.028138095892791006,"13":-0.301363653305698,"14":-0.08917353649926936,"15":-0.13798186064009668,"16":-0.08209274823089269,"17":0.7416284656798144,"18":0.5242674437844895,"19":0.2095771388482943,"20":-0.030570182360446323,"21":0.4535843276214538,"22":0.32334209577446577,"23":-0.06816399192680747,"24":0.005852431503486343,"25":0.47782905745788573,"26":0.40211580868481617,"27":-0.10915388714646668,"28":0.15794649098731006,"29":0.37707885023069415,"30":0.7934388763917286,"31":0.3242007005530335,"32":-0.3021669970709693,"33":-0.08974497553475684,"34":-0.21839220652044034,"35":-0.047779781008739426,"36":-0.04862044615125455,"37":-0.06981787323078752,"38":-0.16851235819107616,"39":0.013307990226486757,"40":-0.515654546278142,"41":-0.36987365421422325,"42":-0.029026058165431613,"43":0.0918253372253394,"44":-0.08665667443879574,"45":-0.3002165192278355,"46":-0.1591513555037112,"47":0.20221085456587892}},"20":{"bias":-0.11293155516167837,"weights":{"0":0.4569539211331454,"1":0.11385150105676528,"2":0.3915024127918718,"3":-0.44922596972672674,"4":-0.8771921807279449,"5":-0.728521766618403,"6":0.10342447255722159,"7":0.0874470299664149,"8":0.43269918283990516,"9":0.4601103855231409,"10":-0.041188889436036824,"11":-0.29691038199621084,"12":-0.43232401675511944,"13":-0.3674591850326669,"14":0.06835275248235778,"15":0.4025195346297303,"16":0.2547468510539816,"17":-0.10382009508612507,"18":0.030682508223979905,"19":-0.2241327439414142,"20":0.0012983546661033745,"21":0.002416967127698442,"22":0.2284452963158196,"23":0.550377299644944,"24":0.5484829863616796,"25":-0.13630846930087953,"26":0.2960039030400199,"27":-0.35645431435170966,"28":0.25828674759568565,"29":0.0587798391116999,"30":-0.06801832315104932,"31":0.3042947219619162,"32":0.22531680226109949,"33":-0.11564583113547841,"34":0.2361012733891074,"35":-0.2868182376801313,"36":-0.1965212363741645,"37":-0.21352758287297158,"38":0.16155905340953208,"39":0.1735325167931745,"40":0.010648687904057243,"41":-0.03987564850729356,"42":-0.17679963705832225,"43":-0.46946368997992083,"44":-0.37785770215946013,"45":0.0011909913194029934,"46":-0.14104615208537857,"47":0.2105185327784858}},"21":{"bias":-0.036871647577094366,"weights":{"0":0.157031588820149,"1":0.19896142800034636,"2":0.20179695572487022,"3":0.5200885507658202,"4":-0.008459057363044128,"5":0.0023333607366097823,"6":0.42244116617994054,"7":0.03311682916845325,"8":0.323795781730088,"9":0.028097413617640253,"10":0.5438693647057895,"11":0.19994744392183852,"12":0.4274857042786333,"13":-0.030081277750229295,"14":0.20515351172384885,"15":0.12906438896350828,"16":0.19923732375644387,"17":-0.3676866920239381,"18":-0.6893011709794885,"19":-0.08176500601229839,"20":0.15231876358764607,"21":-0.6023154700726846,"22":-0.4469494112605917,"23":0.137354414555359,"24":-0.03076904097653684,"25":-0.36848391301719297,"26":-0.7980822666000704,"27":0.19733135372709307,"28":0.2651013753011401,"29":-0.6201334144976944,"30":-0.3796554845332256,"31":0.22390779708278166,"32":-0.25147660388151094,"33":-0.20856167404907627,"34":0.12988423878682942,"35":0.32932920657028447,"36":0.2892650210183233,"37":0.07211819126872873,"38":-0.027006294916881033,"39":0.09858430738007423,"40":-0.38938895381806893,"41":-0.004098291890646852,"42":0.24592425248333963,"43":0.2887123416858716,"44":0.2297082524195049,"45":-0.09203291951076506,"46":0.08869485588415132,"47":-0.23300466655474017}},"22":{"bias":-0.06156730317702448,"weights":{"0":-0.2583879010190199,"1":0.218108073066437,"2":0.202403387471549,"3":0.5190749250500116,"4":0.13319044494178406,"5":-0.07717106448812426,"6":0.24628702793594495,"7":-0.41922499309875966,"8":-0.18587092264921676,"9":0.13278511644934216,"10":0.21247489286082982,"11":0.4737238465489144,"12":0.16196706052048007,"13":0.12101621495122139,"14":0.13303411368845694,"15":-0.013063560594847057,"16":0.05088885959140396,"17":-0.004803984071358018,"18":0.031439006433630526,"19":-0.7362202429656372,"20":0.4857640394210822,"21":-0.0556981698344267,"22":-0.2634889341300923,"23":-0.14178809605636333,"24":0.08292102899304973,"25":0.08509340679937638,"26":0.10266578578891149,"27":-0.5293957177091916,"28":0.03054499920552009,"29":0.08864096133943744,"30":0.12747835198487487,"31":-0.0031562215309876547,"32":0.29036464517232846,"33":0.3098628892999047,"34":0.24309379541275505,"35":-0.10977863942541906,"36":0.28121157557193904,"37":0.5521639557844634,"38":0.514567608694606,"39":0.2798850688922697,"40":-0.23691510734456753,"41":0.13238127990326898,"42":0.512400813048081,"43":0.860600245034479,"44":0.42487402890411013,"45":0.19874055211531372,"46":0.2809060400641192,"47":-0.04583316399703467}},"23":{"bias":-0.0019483595724654591,"weights":{"0":-0.19885854689747362,"1":-0.06005427963020496,"2":0.4945398931671664,"3":-0.17520135499519462,"4":-0.01971196312018327,"5":0.1726936620236061,"6":0.20757321179924354,"7":0.5467587447958094,"8":0.020876042270485923,"9":0.1678185933837334,"10":0.289861477930075,"11":-0.3443756844835246,"12":-0.05897077753233211,"13":0.041985751212009904,"14":-0.2771136103147525,"15":0.2171179662603123,"16":0.11830286096364159,"17":0.00805430266165736,"18":0.2097754561398213,"19":0.5202326207956536,"20":-0.16547430451670164,"21":-0.07371994592836834,"22":-0.16637507594606696,"23":0.11619668343618406,"24":0.2830293513047687,"25":-0.010046962830041938,"26":-0.32919923564367315,"27":0.12484805321881892,"28":0.1518565684508778,"29":-0.22227201009191094,"30":0.20698399239310708,"31":0.24888166660532746,"32":-0.2122785718369789,"33":-0.044940643311614174,"34":-0.5572476738088109,"35":-0.17808015096011295,"36":-0.26068741331311107,"37":-0.03443935952040825,"38":-0.04906780748519588,"39":0.5279201736070183,"40":-0.05305784502015391,"41":-0.13318928500744162,"42":-0.25503170038627293,"43":-0.5500720628039242,"44":-0.2006824308061858,"45":-0.10079573822099269,"46":-0.19042553241256224,"47":0.4727901713915524}}},{"0":{"bias":-0.26935471517148124,"weights":{"0":0.5468014921247742,"1":-1.0615437357937918,"2":0.37644973120577263,"3":-0.637522216250296,"4":-1.026057376988518,"5":-0.07121278889045417,"6":0.6095297877292862,"7":-0.1715913331474164,"8":-0.7711240471754957,"9":-1.9966553379637775,"10":-1.5271991921374428,"11":0.27228344995983855,"12":0.049068354237728956,"13":-0.24090578220857814,"14":0.38961900483416406,"15":-1.0446774566122334,"16":-1.8237304777917926,"17":0.8073429380328243,"18":0.7924953027930698,"19":0.22346579758561974,"20":0.5383927063717888,"21":-0.9612656259523625,"22":-1.7012223050974917,"23":0.32401818283607653}},"1":{"bias":-0.2939996620873917,"weights":{"0":-0.4164237018222768,"1":0.3921849776667977,"2":-1.166783543767301,"3":0.4287726520054682,"4":0.4795176439897836,"5":-1.1398839651912418,"6":0.23671513061632665,"7":0.38828662545997467,"8":0.7973879211112295,"9":-0.11327880573252205,"10":0.2933039489795232,"11":0.434514466076975,"12":0.10816055216370588,"13":1.2858306812656703,"14":-1.6123177690750163,"15":0.3904751407937298,"16":-0.7242446197965838,"17":-0.6007184684049162,"18":0.48289763535323704,"19":-1.5290567757877092,"20":-1.044547953346492,"21":0.6810164013081117,"22":-0.08517596613152298,"23":-1.80416164978457}},"2":{"bias":-0.5868374418354922,"weights":{"0":-0.6932593676040846,"1":0.5101749122214134,"2":0.3053935432906536,"3":-1.2858467339956108,"4":0.4579937315924892,"5":-0.8671081345495087,"6":0.11798000623848186,"7":0.21045501792939542,"8":-0.8441609512302721,"9":-0.4703986884508801,"10":-1.3500343488703501,"11":-0.05476493072985224,"12":0.3197029025698619,"13":1.0150126071385397,"14":0.17376646725900344,"15":-0.408798060181195,"16":0.2121462901545375,"17":-1.1503998403762847,"18":-0.13961668935366528,"19":-0.08343335725484013,"20":-0.7731769062016253,"21":-0.7755216652090582,"22":0.11960448858433123,"23":-0.675744394901237}},"3":{"bias":-0.49082778110231146,"weights":{"0":-0.9245173480306865,"1":-0.10022268246738122,"2":-0.6755000092107297,"3":0.020757584988732942,"4":0.2449181747103948,"5":-0.5875295534591957,"6":-0.02814542290595657,"7":0.4661303269293102,"8":-0.6355930820515864,"9":0.13735325762886386,"10":-0.002109102716150878,"11":-0.0388302336707065,"12":-0.11761832870964231,"13":-0.5116117061885297,"14":0.06366385123872863,"15":-0.5546238774188985,"16":-0.27472167471948905,"17":-0.6607361576322578,"18":-0.19623301831789264,"19":0.054033566269555605,"20":-0.5992340653032737,"21":-0.4971029175671696,"22":0.10454087422839639,"23":-0.02631239819500719}},"4":{"bias":-0.2820564025013986,"weights":{"0":-0.34390672275268785,"1":0.4006780539782857,"2":-1.387312897603681,"3":-0.4448115930205468,"4":0.8664006393040524,"5":0.917306889996302,"6":-1.2591206447469114,"7":-0.28637894161063976,"8":-0.4488378228180433,"9":-0.11308544061017446,"10":-0.7467495079929196,"11":-0.897292717534945,"12":-1.3811470946461144,"13":-0.49309998015542633,"14":0.2016366894581212,"15":-0.47071326570319033,"16":-1.4092445744069497,"17":-0.751288149498978,"18":0.2540815822160652,"19":0.4038326424814929,"20":1.0948033898122047,"21":0.9071756334699916,"22":-0.5551009115820175,"23":-0.027147581562302014}},"5":{"bias":-0.23774787348046975,"weights":{"0":-1.1752568405298034,"1":-0.05704711922336478,"2":-1.5917689718207693,"3":0.1956762007652704,"4":-0.8267243488604941,"5":0.46408217797143353,"6":-0.7233894693911814,"7":-0.47053700031659274,"8":-0.5604019536068199,"9":-1.2997148957169709,"10":1.3875383566920851,"11":-1.3815809752072714,"12":0.27564361729514364,"13":-0.6089508043218593,"14":0.18261593433807397,"15":1.231600828522978,"16":0.2008288852541303,"17":-0.9568016225205116,"18":0.9553905449442136,"19":0.11657585874179877,"20":-0.9726555559312684,"21":-0.545372319954263,"22":-0.6603054862026355,"23":-0.07075933073382809}},"6":{"bias":-0.48161764503772886,"weights":{"0":-0.059162097249769674,"1":-0.6049911742962001,"2":-0.8330713382835501,"3":-0.3326777718070855,"4":-0.46996986772118443,"5":-0.17095623401547017,"6":-0.2483808382287715,"7":0.49835136685703874,"8":-0.38345401976946414,"9":0.11839796048678192,"10":0.4278553838512764,"11":0.20550165449170385,"12":0.03661412371995795,"13":-0.40682445839226783,"14":-0.19649471742934502,"15":-0.5954999420344969,"16":-0.9689076509326169,"17":0.0018586024578939198,"18":0.07101226011328232,"19":0.026826577650032803,"20":0.2081629805267652,"21":-0.7374797183092611,"22":0.12260520924333079,"23":-0.9714740850816603}},"7":{"bias":-0.33130606823597913,"weights":{"0":-0.2783072026864511,"1":-0.712431474850754,"2":0.03445361537299257,"3":0.06347578636896137,"4":0.07776189402750877,"5":-1.0030056458667804,"6":0.8275305094701804,"7":-1.3948522161202708,"8":0.021587182584436777,"9":-0.3112122877846938,"10":-1.5007182953127705,"11":-1.8675776418164085,"12":-1.3872288725801443,"13":-0.28947702536764713,"14":-0.13994597355976418,"15":1.0088557744168931,"16":0.7604611421962616,"17":-0.9111923750635502,"18":-1.3351727706716425,"19":0.6957505088764673,"20":-1.018480311981068,"21":0.5553220637340777,"22":0.7605315202832297,"23":0.22112306059903097}},"8":{"bias":-0.257990958401394,"weights":{"0":-0.9185457005292905,"1":-0.37600388036564814,"2":-0.5185889860348916,"3":-0.5731973693976323,"4":0.12065802528987561,"5":-0.6406734476538749,"6":0.1917711999415356,"7":0.8162378923372228,"8":-0.7297473538829691,"9":0.4356645168918264,"10":-0.48825310128025623,"11":0.5278729086018052,"12":-0.19129924612419635,"13":-0.3531212568415082,"14":-0.08239400065717092,"15":-0.5460081228516512,"16":-1.5318796649813482,"17":-0.827172461858937,"18":0.6047748532678645,"19":-0.0854623728117408,"20":-0.05398585464240244,"21":-0.9292353152828284,"22":0.08833003068330594,"23":-0.35986194250807263}},"9":{"bias":-0.17023593704101528,"weights":{"0":-0.5000892298676635,"1":1.237711039341234,"2":0.8855336959200695,"3":-0.9345136948528013,"4":-1.0690325297674426,"5":-1.257279222566618,"6":0.19959952561533398,"7":-0.5518536128094595,"8":-0.5734873818658303,"9":-0.7748283369515618,"10":0.5781898227218539,"11":-0.8525573689758887,"12":0.26100056127205007,"13":-0.7525691647548234,"14":0.0668756185537806,"15":-0.977105169210373,"16":1.129273027072501,"17":0.6029812932160131,"18":-1.344906787205081,"19":-0.11690819536609204,"20":-1.0249227328028625,"21":-1.0522471974392098,"22":-1.6795822143527825,"23":0.059300090325366026}},"+":{"bias":-0.4813771029471832,"weights":{"0":0.055066757738454014,"1":-1.099817854033572,"2":0.2992451224014623,"3":1.0114378365375802,"4":-0.08600625888447305,"5":0.6636561444045055,"6":-1.3291098819358411,"7":-0.8044165153724852,"8":1.2593502337501208,"9":-0.3589649863783217,"10":0.519715001786641,"11":-0.079813154179422,"12":-1.5912183436724756,"13":-0.46562421044906493,"14":-2.18035403160746,"15":-0.7176002227058557,"16":0.4144326453427157,"17":0.3447931645989966,"18":-1.1604753633658238,"19":-1.7081381364874928,"20":0.9465550383323278,"21":0.4687646921960962,"22":-0.4946366688126858,"23":0.08256399918032502}},"-":{"bias":-0.7189482303391028,"weights":{"0":0.5937395960752625,"1":-1.9084941713159078,"2":0.11974495939154707,"3":-1.540411137402979,"4":-1.6334121380661386,"5":0.7509314526050392,"6":-1.713430782241814,"7":-1.1940154417177031,"8":-0.874652545140961,"9":0.6669310071186446,"10":-1.2847517619527253,"11":0.1680086644126338,"12":-0.07800393694104328,"13":-0.6126633601804348,"14":0.7956326458130095,"15":-1.1397502260426098,"16":0.8191225524751305,"17":0.014380760332054422,"18":-1.3655787265911736,"19":0.32972745467787345,"20":0.8296108586720744,"21":-1.4161872297205729,"22":0.368727239689122,"23":-0.39285097826961224}}}]};

for(var i = 1; i < net.layers.length; i++) {
var layer = net.layers[i];
var outputs = {};
for(var id in layer) {
var node = layer[id];
var sum = node.bias;
for(var iid in node.weights)
sum += node.weights[iid] * inputs[iid];
outputs[id] = (1/(1 + Math.exp(-sum)));
}
inputs = outputs;
}
return outputs;
}



ImageFunctions = {}
ImageFunctions.toGrayScale = function(image)
{
	for (var x = 0; x < image.width; x++){
		for (var y = 0; y < image.height; y++){
				var i = x*4+y*4*image.width;
				var luma = Math.floor(
					image.data[i] * 299/1000 +
					image.data[i+1] * 587/1000 +
					image.data[i+2] * 114/1000
				);
				image.data[i] = luma;
				image.data[i+1] = luma;
				image.data[i+2] = luma;
				image.data[i+3] = 255;
			}
		}
}

ImageFunctions.toBlackAndWhite = function(image, threshold)
{
	for (var x = 0; x < image.width; x++){
		for (var y = 0; y < image.height; y++){
				var i = x*4+y*4*image.width;
				var luma = Math.floor(
					image.data[i] * 299/1000 +
					image.data[i+1] * 587/1000 +
					image.data[i+2] * 114/1000
				);
				if(luma > threshold)
				{
					luma = 255;
				}
				else
				{
					luma = 0;
				}
				image.data[i] = luma;
				image.data[i+1] = luma;
				image.data[i+2] = luma;
				image.data[i+3] = 255;
			}
		}
}


function split(image)
{
	// Cut into blocks
	var blocks = new Array();
	var block_start = 0;
	var block_end = 0;
	var before_white = true;
	for (var x = 0; x < image.width; x++) {
		var white = true;
		for (var y = 0; y < image.height; y++) {
			var i = x*4 + y*4*image.width
			var c = image.data[i];
			if (c < 140) {
				white = false;
				break;
			}
		}
		if (before_white == true && white == false) {
			block_start = x;
		}
		if (before_white == false && white == true) {
			block_end = x - 1;
			var block = {start: block_start, end: block_end, image: {}, canvas: {}};
			blocks.push(block);
		}
		before_white = white;
	}
	return blocks;
}

function copyAndPadding(image, canvas)
{
	var blocks = split(image);
	// Clone each block
	for (var w = 0; w < blocks.length; w++) {
		blocks[w].image.width = image.width;
		blocks[w].image.height = image.height;
		blocks[w].image.data = new Uint8ClampedArray(image.data.length);
		for (var i = 0; i < image.data.length; i++) {
			blocks[w].image.data[i] = image.data[i];
		}
	}
	 
	// Whiteout all other characters from each block
	for (var w = 0; w < blocks.length; w++) {
		for (var x = 0; x < image.width; x++) {
			if (x < blocks[w].start || x > blocks[w].end) {
				for (var y = 0; y < image.height; y++) {
					var i = x*4 + y*4*image.width
					blocks[w].image.data[i] = 255;
					blocks[w].image.data[i+1] = 255;
					blocks[w].image.data[i+2] = 255;
				}
			}
		}
	}
	// Crop each block, pad with whitespace to appropriate ratio, and resize to 60 x 50
	for (var w = 0; w < blocks.length; w++) {
		// We already have the x-boundaries, just need to find y-boundaries
		var y_min = 0;
		findmin:
		for (var y = 0; y < blocks[w].image.height; y++) {
			for (var x = 0; x < blocks[w].image.width; x++) {
				var i = x*4 + y*4*image.width
				if (blocks[w].image.data[i] < 200) {
					y_min = y;
					break findmin;
				}
			}
		}
		var y_max = 0;
		findmax:
		for (var y = blocks[w].image.height; y >= 0; y--) {
			for (var x = 0; x < blocks[w].image.width; x++) {
				var i = x*4 + y*4*image.width
				if (blocks[w].image.data[i] < 200) {
					y_max = y;
					break findmax;
				}
			}
		}
	 
		// Pad and resize
		var cwidth = blocks[w].end - blocks[w].start + 1;
		var cheight = y_max - y_min + 1;
		var cratio = cwidth / cheight;
	 
		var sx = blocks[w].start;
		var sy = y_min;
		var sw = blocks[w].end - blocks[w].start + 1;
		var sh = y_max - y_min + 1;
	 
		var dimx = 6;
		var dimy = 8;
		var dimr = dimx / dimy;
		if ((cwidth / cheight) < dimr) {
			var dh = dimy;
			var dw = Math.round(cwidth * dimy / cheight);
			var dy = 0;
			var dx = Math.round((dimx - dw) / 2);
		}
		else if ((cwidth / cheight) > dimr) {
			var dw = dimx;
			var dh = Math.round(cheight * dimx / cwidth);
			var dx = 0;
			var dy = Math.round((dimy - dh) / 2);
		}
		else {
			var dh = dimy;
			var dw = dimx;
			var dy = 0;
			var dx = 0;
		}
		blocks[w].canvas = document.createElement('canvas');
		blocks[w].canvas.width = dimx;
		blocks[w].canvas.height = dimy;
		blocks[w].canvas.style.margin = "0 1px 0 0";
		blocks[w].canvas.getContext('2d').fillStyle="#ffffff";
		blocks[w].canvas.getContext('2d').fillRect(0,0,dimx,dimy);
		blocks[w].canvas.getContext('2d').drawImage(canvas, sx, sy, sw, sh, dx, dy, dw, dh);
	}
	return blocks;
}
